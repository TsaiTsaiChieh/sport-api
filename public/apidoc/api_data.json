[  {    "type": "get",    "url": "/auth/verifySessionCookie",    "title": "Verify Session Cookie",    "version": "1.0.0",    "name": "VerifySessionCookie",    "group": "Auth",    "permission": [      {        "name": "login user"      }    ],    "parameter": {      "fields": {        "Request cookie": [          {            "group": "Request cookie",            "type": "token",            "optional": false,            "field": "__session",            "description": "<p>token generate from firebase Admin SDK</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>verify result success</p>"          }        ]      },      "examples": [        {          "title": "Success-Response:",          "content": "HTTP/1.1 200 OK\n{\n  \"success\": \"true\"\n}",          "type": "json"        }      ]    },    "error": {      "fields": {        "Error 4xx": [          {            "group": "Error 4xx",            "optional": false,            "field": "TokenMissing",            "description": "<p>session cookie not exist.</p>"          }        ]      },      "examples": [        {          "title": "Error-Response:",          "content": "HTTP/1.1 401 Token Missing\n{\n  \"success\": \"false\"\n}",          "type": "json"        }      ]    },    "filename": "controller/authentication/verifySessionCookie.js",    "groupTitle": "Auth"  },  {    "type": "get",    "url": "/auth/lineLogin",    "title": "Line Authentication",    "version": "1.0.0",    "name": "lineLogin",    "group": "Auth",    "permission": [      {        "name": "none"      }    ],    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "cookie",            "optional": false,            "field": "token",            "description": "<p>auth token from Line SDK</p>"          }        ]      },      "examples": [        {          "title": "Success-Response:",          "content": "redirect callback URL(line_login.html) to signInWithCustomToken",          "type": "json"        }      ]    },    "error": {      "examples": [        {          "title": "Error-Response:",          "content": "HTTP/1.1 401 Auth Failed",          "type": "json"        }      ]    },    "filename": "controller/authentication/lineHandler.js",    "groupTitle": "Auth"  },  {    "type": "get",    "url": "/auth/login",    "title": "create session cookie",    "version": "1.0.0",    "name": "login",    "group": "Auth",    "permission": [      {        "name": "login user"      }    ],    "parameter": {      "fields": {        "Request body": [          {            "group": "Request body",            "type": "token",            "optional": false,            "field": "token",            "description": "<p>token generate from firebase SDK</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>cookie create success</p>"          },          {            "group": "Success 200",            "type": "cookie",            "optional": false,            "field": "__session",            "description": "<p>session cookie</p>"          }        ]      },      "examples": [        {          "title": "Success-Response:",          "content": "HTTP/1.1 200 OK\n{\n  \"success\": \"true\"\n}",          "type": "json"        }      ]    },    "error": {      "fields": {        "Error 4xx": [          {            "group": "Error 4xx",            "optional": false,            "field": "TokenMissing",            "description": "<p>session cookie not exist.</p>"          }        ]      },      "examples": [        {          "title": "Error-Response:",          "content": "HTTP/1.1 401 Token Missing\n{\n  \"success\": \"false\"\n}",          "type": "json"        }      ]    },    "filename": "controller/authentication/firebaseLoginController.js",    "groupTitle": "Auth"  },  {    "type": "get",    "url": "/auth/logout",    "title": "Logout User",    "version": "1.0.0",    "name": "logout",    "group": "Auth",    "permission": [      {        "name": "none"      }    ],    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>logout result</p>"          }        ]      },      "examples": [        {          "title": "Success-Response:",          "content": "HTTP/1.1 200 OK\n{\n  \"success\": \"true\"\n}",          "type": "json"        }      ]    },    "filename": "controller/authentication/logout.js",    "groupTitle": "Auth"  },  {    "type": "get",    "url": "/messages_tsai/:id",    "title": "get User Profile",    "version": "1.0.0",    "name": "get_messages",    "group": "Messages",    "permission": [      {        "name": "login user"      }    ],    "parameter": {      "fields": {        "Request cookie": [          {            "group": "Request cookie",            "type": "token",            "optional": false,            "field": "__session",            "description": "<p>token generate from firebase Admin SDK</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "JSON",            "optional": false,            "field": "success",            "description": "<p>verify result success</p>"          }        ]      },      "examples": [        {          "title": "Success-Response:",          "content": "HTTP/1.1 200 OK\n[\n{\n       \"message\": {\n           \"channelId\": \"public\",\n           \"messageId\": \"pOCYGzwhs98kgKuqzgAN\",\n           \"replyMessageId\": \"S84shEIh7P1OL6l05Cuh\",\n           \"message\": \"訊息已被刪除\",\n           \"softDelete\": 0,\n           \"tempHash\": \"1575016866607zmPF5Aht60Y6GdBbGnrOSlWcgV53\",\n           \"createTime\": {\n               \"seconds\": 1575016865,\n               \"nanoseconds\": 727000000\n           }\n       },\n       \"file\": {\n           \"id\": \"3966060610_a5f857e4c3793f2a\",\n           \"name\": \"獎牌ICON_190711_0009.jpg\",\n           \"size\": \"200142\",\n           \"type\": \"jpg\",\n           \"farmHash\": 3966060610,\n           \"sipHash\": \"a5f857e4c3793f2a\"\n       },\n       \"user\": {\n           \"uid\": \"zmPF5Aht60Y6GdBbGnrOSlWcgV53\",\n           \"displayName\": \"測試displayName\",\n           \"avatar\": \"https://uploaded.firestorage.avatar.jpg\"\n       }\n   },\n{\n       \"message\": {\n           \"channelId\": \"public\",\n           \"messageId\": \"S84shEIh7P1OL6l05Cuh\",\n           \"replyMessageId\": \"6y4Wang3BG8ITciLU77C\",\n           \"message\": \"訊息已被管理員刪除\",\n           \"softDelete\": \"-1\",\n           \"tempHash\": \"1575015219932zmPF5Aht60Y6GdBbGnrOSlWcgV53\",\n           \"createTime\": {\n               \"seconds\": 1575015219,\n               \"nanoseconds\": 469000000\n           }\n       },\n       \"file\": {\n           \"id\": \"3625815968_20e553b10e968d65\",\n           \"name\": \"logo1b.jpg\",\n           \"size\": \"54990\",\n           \"type\": \"jpg\",\n           \"farmHash\": 3625815968,\n           \"sipHash\": \"20e553b10e968d65\"\n       },\n       \"user\": {\n           \"uid\": \"zmPF5Aht60Y6GdBbGnrOSlWcgV53\",\n           \"displayName\": \"測試displayName\",\n           \"avatar\": \"https://uploaded.firestorage.avatar.jpg\"\n       }\n   },\n{\n       \"message\": {\n           \"channelId\": \"public\",\n           \"messageId\": \"6y4Wang3BG8ITciLU77C\",\n           \"replyMessageId\": \"\",\n           \"message\": \"訊息已被隱藏\",\n           \"softDelete\": \"1\",\n           \"tempHash\": \"f56f4gh4f\",\n           \"createTime\": {\n               \"seconds\": 1575008924,\n               \"nanoseconds\": 732000000\n           }\n       },\n       \"user\": {\n           \"uid\": \"zmPF5Aht60Y6GdBbGnrOSlWcgV53\",\n           \"displayName\": \"測試displayName\",\n           \"avatar\": \"https://uploaded.firestorage.avatar.jpg\"\n       }\n   },\n{\n       \"message\": {\n           \"channelId\": \"public\",\n           \"messageId\": \"VmJFUfMjEV3NaZjOqg6e\",\n           \"replyMessageId\": \"\",\n           \"message\": \"訊息內容\",\n           \"softDelete\": \"1\",\n           \"tempHash\": \"gyu35745\",\n           \"createTime\": {\n               \"seconds\": 1575008546,\n               \"nanoseconds\": 0\n           }\n       },\n       \"user\": {\n           \"displayName\": \"測試displayName3\",\n           \"avatar\": \"https://www.techrum.vn/chevereto/images/2016/05/05/Bkm4d.jpg\",\n           \"title\": \"一般會員\"\n       }\n   },\n{\n       \"message\": {\n           \"channelId\": \"public\",\n           \"messageId\": \"viain91ufYhx6reEVQNq\",\n           \"replyMessageId\": \"\",\n           \"message\": \"456\",\n           \"softDelete\": 2,\n           \"tempHash\": \"6d58yt4h6d\",\n           \"createTime\": {\n               \"seconds\": 1575008486,\n               \"nanoseconds\": 0\n           }\n       },\n       \"user\": {\n           \"uid\": \"zmPF5Aht60Y6GdBbGnrOSlWcgV53\",\n           \"displayName\": \"測試displayName\",\n           \"avatar\": \"https://uploaded.firestorage.avatar.jpg\"\n       }\n   }\n]",          "type": "json"        }      ]    },    "error": {      "fields": {        "Error 4xx": [          {            "group": "Error 4xx",            "optional": false,            "field": "TokenMissing",            "description": "<p>session cookie not exist.</p>"          }        ]      },      "examples": [        {          "title": "Error-Response:",          "content": "HTTP/1.1 400 Bad Request\nCheck request parameters\nHTTP/1.1 401 Unauthorized\nmissing token",          "type": "json"        }      ]    },    "filename": "controller/messageController.js",    "groupTitle": "Messages"  },  {    "type": "post",    "url": "/user/getUserProfile",    "title": "Get User Profile",    "version": "1.0.0",    "name": "getUserProfile",    "group": "User",    "permission": [      {        "name": "login user"      }    ],    "parameter": {      "fields": {        "Request cookie": [          {            "group": "Request cookie",            "type": "JWT",            "optional": false,            "field": "__session",            "description": "<p>token generate from firebase Admin SDK</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "JSON",            "optional": false,            "field": "user",            "description": "<p>User Profile JSON</p>"          }        ]      },      "examples": [        {          "title": "New User:",          "content": "HTTP/1.1 200 OK\n{\n   \"success\": true,\n   \"uid\": \"lz3c3ju6G0TilDOdgCQt4I7I8ep1\",\n   \"status\": 0\n}",          "type": "json"        },        {          "title": "Success-Response:",          "content": " HTTP/1.1 200 OK\n {\n    \"success\": true,\n    \"uid\": \"zmPF5Aht60Y6GdBbGnrOSlWcgV53\",\n    \"data\": {\n        \"blockMessage\": {\n            \"_seconds\": 1575907200,\n            \"_nanoseconds\": 0\n        },\n        \"ingot\": 0,\n        \"avatar\": \"https://www.techrum.vn/chevereto/images/2016/05/05/Bkm4d.jpg\",\n        \"uid\": \"zmPF5Aht60Y6GdBbGnrOSlWcgV53\",\n        \"birthday\": {\n            \"_seconds\": 1573194036,\n            \"_nanoseconds\": 370000000\n        },\n        \"phone\": \"+886999999123\",\n        \"dividend\": 0,\n        \"referrer\": \"bnKcVVaiIaUf3daVMNTTK5gH4hf1\",\n        \"coin\": 0,\n        \"signature\": \"簽名檔33\",\n        \"status\": 1,\n        \"email\": \"test3q@email.com\",\n        \"name\": \"真名\",\n        \"point\": 250,\n        \"displayName\": \"測試displayName\",\n        \"denys\": [],\n        \"titles\": [\n            {\n                \"rank\": 1,\n                \"league\": \"MLB\",\n                \"sport\": 16\n            },\n            {\n                \"rank\": 3,\n                \"league\": \"CPBL\",\n                \"sport\": 16\n            }\n        ],\n        \"defaultTitle\": {\n            \"rank\": 1,\n            \"league\": \"MLB\",\n            \"sport\": 16\n        }\n    },\n    \"status\": 1\n}",          "type": "json"        }      ]    },    "error": {      "fields": {        "Error 4xx": [          {            "group": "Error 4xx",            "optional": false,            "field": "TokenMissing",            "description": "<p>session cookie not exist.</p>"          }        ]      },      "examples": [        {          "title": "Error-Response:",          "content": "HTTP/1.1 401 Token Missing\nmissing token",          "type": "json"        }      ]    },    "filename": "controller/user/getUserProfile.js",    "groupTitle": "User"  },  {    "type": "post",    "url": "/user/modifyUserProfile",    "title": "Modify User Profile",    "version": "1.0.0",    "name": "modifyUserProfile",    "group": "User",    "permission": [      {        "name": "login user"      }    ],    "parameter": {      "fields": {        "Request cookie": [          {            "group": "Request cookie",            "type": "JWT",            "optional": false,            "field": "__session",            "description": "<p>token generate from firebase Admin SDK</p>"          }        ],        "Request body": [          {            "group": "Request body",            "type": "URL",            "optional": false,            "field": "avatar",            "description": "<p>URL of avatar from Firestorage</p>"          },          {            "group": "Request body",            "type": "String",            "optional": false,            "field": "name",            "description": "<p>Actual name (Non changeable)</p>"          },          {            "group": "Request body",            "type": "String",            "optional": false,            "field": "displayName",            "description": "<p>Nick Name (Unique,Non changeable)</p>"          },          {            "group": "Request body",            "type": "String",            "optional": false,            "field": "phone",            "description": "<p>mobile number with area code</p>"          },          {            "group": "Request body",            "type": "String",            "optional": false,            "field": "email",            "description": "<p>email address</p>"          },          {            "group": "Request body",            "type": "Number",            "optional": false,            "field": "birthday",            "description": "<p>birthday UTC timestamp</p>"          },          {            "group": "Request body",            "type": "String",            "optional": false,            "field": "signature",            "description": "<p>signature</p>"          },          {            "group": "Request body",            "type": "String",            "optional": false,            "field": "refCode",            "description": "<p>UID of referrer</p>"          }        ]      }    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "JSON",            "optional": false,            "field": "result",            "description": "<p>Execute Result</p>"          }        ]      },      "examples": [        {          "title": "New User:",          "content": "HTTP/1.1 200 OK\n{\n   \"success\": true,\n   \"result\": {\n       \"_writeTime\": {\n           \"_seconds\": 1575946694,\n           \"_nanoseconds\": 556654000\n       }\n   }\n}",          "type": "json"        }      ]    },    "error": {      "fields": {        "Error 4xx": [          {            "group": "Error 4xx",            "optional": false,            "field": "TokenMissing",            "description": "<p>session cookie not exist.</p>"          }        ]      },      "examples": [        {          "title": "Error-Response:",          "content": "   HTTP/1.1 401 Token Missing\n{\n   \"success\": false,\n   \"message\": \"getUserProfile failed\"\n}",          "type": "json"        }      ]    },    "filename": "controller/user/modifyUserProfile.js",    "groupTitle": "User"  }]
